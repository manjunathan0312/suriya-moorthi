<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>BloodConnect - Efficient Blood Donation Network</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet" />
<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
<style>
  :root {
    --primary-red: #ff1744;
    --dark-bg: #1a1a2e;
    --container-bg: rgba(255, 255, 255, 0.1);
    --glass-border: rgba(255, 23, 68, 0.3);
    --shadow-glass: 0 20px 35px rgba(255,23,68,0.25);
    --btn-shadow: 0 8px 25px rgba(255,23,68,0.35);
  }
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  body {
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(135deg, #120d32 0%, #1a1a33 100%);
    color: white;
    min-height: 100vh;
  }
  .container {
    max-width: 1100px;
    margin: 40px auto;
    background: var(--container-bg);
    padding: 40px;
    border-radius: 25px;
    box-shadow: var(--shadow-glass);
    backdrop-filter: blur(12px);
  }
  header {
    text-align: center;
    margin-bottom: 40px;
  }
  header h1 {
    font-size: 3rem;
    background: var(--primary-red);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    font-weight: 700;
    letter-spacing: 4px;
  }
  header p {
    font-size: 1.2rem;
    margin-top: 10px;
    color: #ff5c77aa;
  }
  nav {
    margin-bottom: 35px;
    text-align: center;
  }
  nav button {
    background: transparent;
    border: 2px solid var(--primary-red);
    color: var(--primary-red);
    padding: 12px 30px;
    margin: 0 10px;
    border-radius: 30px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 1rem;
    box-shadow: var(--btn-shadow);
    letter-spacing: 1px;
  }
  nav button:hover,
  nav button.active {
    background: var(--primary-red);
    color: #fff;
    box-shadow: 0 14px 55px rgba(255, 23, 68, 0.7);
  }

  /* Forms common */
  form {
    max-width: 700px;
    margin: 0 auto;
    background: rgba(255, 255, 255, 0.07);
    padding: 30px 40px;
    border-radius: 25px;
    box-shadow: var(--shadow-glass);
  }
  label {
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
    font-size: 0.95rem;
    color: #ff4d69cc;
  }
  input[type='text'],
  input[type='email'],
  input[type='password'],
  select {
    width: 100%;
    padding: 14px 20px;
    margin-bottom: 25px;
    border-radius: 15px;
    border: none;
    font-size: 1rem;
    background: rgba(255,255,255,0.15);
    color: white;
    box-shadow: inset 0 0 8px rgba(255,23,68,0.3);
    transition: all 0.3s ease;
  }
  input[type='text']:focus,
  input[type='email']:focus,
  input[type='password']:focus,
  select:focus {
    outline: none;
    background: rgba(255,255,255,0.25);
    box-shadow: inset 0 0 12px var(--primary-red);
  }
  button.submit-btn {
    background: var(--primary-red);
    border: none;
    color: #fff;
    padding: 15px 45px;
    border-radius: 30px;
    font-size: 1.2rem;
    font-weight: 700;
    cursor: pointer;
    box-shadow: var(--btn-shadow);
    letter-spacing: 1.5px;
    transition: background 0.3s ease, box-shadow 0.3s ease;
    width: 100%;
  }
  button.submit-btn:hover {
    background: #ff416c;
    box-shadow: 0 16px 48px rgba(255, 65, 108, 0.7);
  }

  /* Result Cards */
  .results {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 30px;
    margin-top: 30px;
    max-width: 1100px;
    margin-left: auto;
    margin-right: auto;
  }
  .card {
    background: rgba(255, 255, 255, 0.07);
    padding: 22px 30px;
    border-radius: 25px;
    box-shadow: var(--shadow-glass);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    cursor: pointer;
  }
  .card:hover {
    transform: translateY(-10px);
    box-shadow: 0 25px 70px rgba(255, 23, 68, 0.6);
  }
  .card .blood-type {
    font-weight: 800;
    font-size: 2.8rem;
    color: var(--primary-red);
    margin-bottom: 16px;
  }
  .card h3 {
    font-weight: 700;
    font-size: 1.5rem;
    margin-bottom: 12px;
    color: #fff;
  }
  .card p {
    font-weight: 400;
    font-size: 1rem;
    color: #ff96a3cc;
  }
  .contact-btn {
    margin-top: 22px;
    background: var(--success-green);
    color: white;
    padding: 12px 35px;
    border: none;
    border-radius: 30px;
    font-weight: 600;
    font-size: 1rem;
    cursor: pointer;
    transition: background 0.3s ease, box-shadow 0.3s ease;
  }
  .contact-btn:hover {
    background: #00c671;
    box-shadow: 0 15px 40px rgba(0,198,113,0.6);
  }

  /* Login & Register Pages */
  .auth-forms {
    max-width: 600px;
    margin: 0 auto 30px auto;
  }

  .message {
    text-align: center;
    color: #ff4d69cc;
    font-weight: 600;
    margin-top: -20px;
    margin-bottom: 20px;
  }

  /* Toast Notification */
  .toast {
    position: fixed;
    bottom: 40px;
    right: 40px;
    background: var(--primary-red);
    color: white;
    padding: 18px 30px;
    border-radius: 25px;
    font-weight: 600;
    font-size: 1.1rem;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.4s ease, visibility 0.4s ease;
    box-shadow: 0 18px 48px rgba(255, 23, 68, 0.7);
    z-index: 1000;
  }
  .toast.show {
    opacity: 1;
    visibility: visible;
  }

  /* Responsive */
  @media (max-width: 768px) {
    .container {
      padding: 30px 15px;
    }
    nav button {
      padding: 12px 22px;
      font-size: 0.9rem;
      margin: 8px 5px;
    }
    .results {
      grid-template-columns: 1fr;
    }
  }
</style>
</head>
<body>
  <div class="container">
    <header>
      <h1>BloodConnect</h1>
      <p>Connecting Donors & Seekers for Life-saving Blood</p>
    </header>
    <nav>
      <button class="active" id="navRegister">Register</button>
      <button id="navLogin">Login</button>
      <button id="navSearch">Search Donors</button>
      <button id="navAdmin">Admin Panel</button>
    </nav>

    <!-- Register Form -->
    <section id="sectionRegister" class="auth-forms">
      <form id="registerForm">
        <label for="regRole">Register as:</label>
        <select id="regRole" required class="form-control">
          <option value="">Select role</option>
          <option value="donor">Donor</option>
          <option value="seeker">Seeker</option>
        </select>
        <label for="regName">Name:</label>
        <input id="regName" type="text" placeholder="Full Name" required />
        <label for="regBlood">Blood Group (Donors only):</label>
        <select id="regBlood" class="form-control">
          <option value="">Select Blood Group</option>
          <option value="A+">A+</option>
          <option value="A-">A-</option>
          <option value="B+">B+</option>
          <option value="B-">B-</option>
          <option value="AB+">AB+</option>
          <option value="AB-">AB-</option>
          <option value="O+">O+</option>
          <option value="O-">O-</option>
        </select>
        <label for="regContact">Contact Number:</label>
        <input id="regContact" type="text" placeholder="+1234567890" required />
        <label for="regCity">City:</label>
        <input id="regCity" type="text" placeholder="City" required />
        <label for="regUsername">Username:</label>
        <input id="regUsername" type="text" placeholder="Choose a username" required />
        <label for="regPassword">Password:</label>
        <input id="regPassword" type="password" placeholder="Secure password" required />
        <button class="submit-btn" type="submit">Register</button>
      </form>
      <div id="registerMsg" class="message"></div>
    </section>

    <!-- Login Form -->
    <section id="sectionLogin" class="auth-forms" style="display:none;">
      <form id="loginForm">
        <label for="loginUsername">Username:</label>
        <input type="text" id="loginUsername" placeholder="Username" required />
        <label for="loginPassword">Password:</label>
        <input type="password" id="loginPassword" placeholder="Password" required />
        <button class="submit-btn" type="submit">Login</button>
      </form>
      <div id="loginMsg" class="message"></div>
    </section>

    <!-- Search Donors -->
    <section id="sectionSearch" style="display:none;">
      <form id="searchForm" style="max-width: 600px; margin: 0 auto 30px auto;">
        <label for="searchBloodGroup">Blood Group:</label>
        <select id="searchBloodGroup" class="form-control" required>
          <option value="">Select Blood Group</option>
          <option value="A+">A+</option>
          <option value="A-">A-</option>
          <option value="B+">B+</option>
          <option value="B-">B-</option>
          <option value="AB+">AB+</option>
          <option value="AB-">AB-</option>
          <option value="O+">O+</option>
          <option value="O-">O-</option>
        </select>
        <label for="searchCity">City:</label>
        <input type="text" id="searchCity" class="form-control" placeholder="Enter city" required />
        <button class="submit-btn" type="submit">Search</button>
      </form>
      <div class="results" id="searchResults"></div>
    </section>

    <!-- Admin Panel -->
    <section id="sectionAdmin" style="display:none;">
      <h2 style="text-align:center; margin-bottom: 30px; color: var(--primary-red); font-weight: 700;">Admin Management Panel</h2>
      <div class="results" id="adminUserList"></div>
    </section>
  </div>

  <!-- Toast Notification -->
  <div id="toast" class="toast"></div>

<script>
  const navRegister = document.getElementById('navRegister');
  const navLogin = document.getElementById('navLogin');
  const navSearch = document.getElementById('navSearch');
  const navAdmin = document.getElementById('navAdmin');

  const sectionRegister = document.getElementById('sectionRegister');
  const sectionLogin = document.getElementById('sectionLogin');
  const sectionSearch = document.getElementById('sectionSearch');
  const sectionAdmin = document.getElementById('sectionAdmin');

  const registerForm = document.getElementById('registerForm');
  const loginForm = document.getElementById('loginForm');
  const searchForm = document.getElementById('searchForm');

  const searchResults = document.getElementById('searchResults');
  const adminUserList = document.getElementById('adminUserList');

  const toast = document.getElementById('toast');
  const registerMsg = document.getElementById('registerMsg');
  const loginMsg = document.getElementById('loginMsg');

  // Simulated Users DB
  let usersDB = [
    // Admin account
    { username: 'admin123', password: 'adminpass', role: 'admin' }
  ];

  // Donors & Seekers Lists
  let donors = [];
  let seekers = [];

  // Navigation logic
  function showSection(section) {
    sectionRegister.style.display = 'none';
    sectionLogin.style.display = 'none';
    sectionSearch.style.display = 'none';
    sectionAdmin.style.display = 'none';
    [navRegister, navLogin, navSearch, navAdmin].forEach(btn => btn.classList.remove('active'));

    switch(section){
      case 'register': 
        sectionRegister.style.display = 'block'; 
        navRegister.classList.add('active');
        break;
      case 'login': 
        sectionLogin.style.display = 'block'; 
        navLogin.classList.add('active');
        break;
      case 'search': 
        sectionSearch.style.display = 'block'; 
        navSearch.classList.add('active');
        break;
      case 'admin': 
        sectionAdmin.style.display = 'block'; 
        navAdmin.classList.add('active');
        loadAdminPanel();
        break;
    }
  }

  navRegister.onclick = () => showSection('register');
  navLogin.onclick = () => showSection('login');
  navSearch.onclick = () => showSection('search');
  navAdmin.onclick = () => showSection('admin');

  showSection('register');

  // Toast Notification
  function showToast(message, duration = 3500) {
    toast.textContent = message;
    toast.classList.add('show');
    setTimeout(() => toast.classList.remove('show'), duration);
  }

  // Register form handler
  registerForm.onsubmit = (e) => {
    e.preventDefault();
    registerMsg.textContent = '';
    const role = document.getElementById('regRole').value;
    const name = document.getElementById('regName').value.trim();
    const bloodGroup = document.getElementById('regBlood').value;
    const contact = document.getElementById('regContact').value.trim();
    const city = document.getElementById('regCity').value.trim();
    const username = document.getElementById('regUsername').value.trim();
    const password = document.getElementById('regPassword').value;

    if(!role || !name || !contact || !city || !username || !password){
      registerMsg.textContent = 'Please fill all required fields';
      return;
    }

    if(role === 'donor' && !bloodGroup) {
      registerMsg.textContent = 'Blood group is required for donor registration';
      return;
    }

    if(usersDB.some(u => u.username === username)){
      registerMsg.textContent = 'Username already exists, choose another';
      return;
    }

    // Save user info
    let userObj = {
      username,
      password,
      role,
      name,
      contact,
      city
    };
    if(role === 'donor') userObj.bloodGroup = bloodGroup;
    usersDB.push(userObj);

    if(role === 'donor') donors.push(userObj);
    else seekers.push(userObj);

    registerMsg.textContent = '';
    showToast(`Registration successful! You can now login, ${name}`);
    registerForm.reset();
    showSection('login');
  };

  // Login form handler
  loginForm.onsubmit = (e) => {
    e.preventDefault();
    loginMsg.textContent = '';
    const username = document.getElementById('loginUsername').value.trim();
    const password = document.getElementById('loginPassword').value;

    const user = usersDB.find(u => u.username === username && u.password === password);
    if(!user){
      loginMsg.textContent = 'Invalid username or password.';
      return;
    }
    loginMsg.textContent = '';
    showToast(`Welcome back, ${user.name}!`);
    if(user.role === 'admin') {
      showSection('admin');
    } else {
      showSection('search');
    }
  };

  // Search form handler
  searchForm.onsubmit = e => {
    e.preventDefault();
    searchResults.innerHTML = '';
    const bloodGroup = document.getElementById('searchBloodGroup').value;
    const city = document.getElementById('searchCity').value.trim().toLowerCase();

    if(!bloodGroup || !city){
      showToast('Please select blood group and enter city to search.');
      return;
    }

    const filtered = donors.filter(d => 
      d.bloodGroup === bloodGroup && d.city.toLowerCase() === city
    );
    if(filtered.length === 0) {
      searchResults.innerHTML = '<p style="text-align:center; font-size:1.3rem; color:#ff4d69;">No donors found for your search.</p>';
      return;
    }

    filtered.forEach(donor => {
      const card = document.createElement('div');
      card.className = 'card';
      card.innerHTML = `
        <div class="blood-type">${donor.bloodGroup}</div>
        <h3>${donor.name}</h3>
        <p><i class="fas fa-phone"></i> ${donor.contact}</p>
        <p><i class="fas fa-map-marker-alt"></i> ${donor.city}</p>
        <button class="contact-btn" onclick="contactDonor('${donor.contact}')">
          Contact Donor
        </button>
      `;
      searchResults.appendChild(card);
    });
  };

  // Contact donor alert
  function contactDonor(contact){
    showToast(`Contact their phone: ${contact}`);
  }

  // Admin panel rendering
  function loadAdminPanel(){
    adminUserList.innerHTML = '';
    if(usersDB.length <= 1){
      adminUserList.innerHTML = '<p style="text-align:center; color:#ff4d69;">No users registered yet.</p>';
      return;
    }
    usersDB.forEach(user => {
      if(user.role === 'admin') return; // skip self
      const card = document.createElement('div');
      card.className = 'card';
      card.style.background = 'rgba(255,23,68,0.1)';
      card.innerHTML = `
        <h3>${user.name} (${user.role})</h3>
        ${user.bloodGroup ? `<p>Blood Group: ${user.bloodGroup}</p>` : ''}
        <p>City: ${user.city}</p>
        <p>Contact: ${user.contact}</p>
        <button class="contact-btn" onclick="deleteUser('${user.username}')">Delete User</button>
      `;
      adminUserList.appendChild(card);
    });
  }

  // Delete user admin function
  function deleteUser(username){
    if(!confirm('Are you sure you want to delete this user?')) return;
    usersDB = usersDB.filter(u => u.username !== username);
    donors = donors.filter(d => d.username !== username);
    seekers = seekers.filter(s => s.username !== username);
    loadAdminPanel();
    showToast('User deleted successfully.');
  }
</script>
</body>
</html>
